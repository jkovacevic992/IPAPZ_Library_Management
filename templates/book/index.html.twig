{% extends 'base.html.twig' %}

{% block body %}

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <p class="nav-link">Library users: {{ totalCustomers }}</p>
                <p class="nav-link">Books in the library: {{ totalBooks }}</p>
                <p class="nav-link">Available books: {{ availableBooks }}</p>
                <p class="nav-link">Borrowed books: {{ allBorrowedBooks }}</p>

            </ul>
        </div>
        <div class="navbar-collapse">
            <ul class="navbar-nav ml-auto">


            </ul>

        </div>
    </nav>
    {{ form(formSearch) }}
    <h3>Books in the Library</h3>


    <table class="table table-striped">
        <thead>
        <tr>
            <th>Book</th>
            <th>Author</th>
            <th>Genre</th>
            <th>Details</th>
        </tr>
        </thead>
        <tbody>
        {% for book in books %}
            <tr>
                <td>{% if book.images != null %}<img style="max-height: 50px"
                                                     src="../../uploads/images/{{ book.images[0] }}">{% endif %} {{ book.name }}
                </td>
                <td>{{ book.author }}</td>
                <td>
                    {% for genre in book.bookGenre %}

                            <h6 class="card-subtitle mt-2 text-muted">{{ genre.genre.name }}  </h6>

                    {% endfor %}
                </td>
                <td><a href="{{ path('book_view', {'id': book.id}) }}" class="card-link">Details</a></td>

            </tr>
        {% endfor %}
        </tbody>

    </table>


    <div class="navigation">
        {{ knp_pagination_render(books, 'book/pagination.html.twig') }}
    </div>


{% endblock %}



